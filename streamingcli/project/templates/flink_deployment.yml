metadata:
  displayName: {{project_name}}
spec:
  deploymentTargetId: null
  deploymentTargetName: vvp
  maxJobCreationAttempts: 4
  maxSavepointCreationAttempts: 4
  restoreStrategy:
    allowNonRestoredState: false
    kind: LATEST_STATE
  sessionClusterName: null
  state: RUNNING
  template:
    metadata:
      annotations:
        flink.queryable-state.enabled: 'false'
        flink.security.ssl.enabled: 'false'
    spec:
      artifact:
        flinkImageRegistry: registry.ververica.com/v2.5
        flinkImageRepository: flink
        flinkImageTag: 1.13.2-stream1-scala_2.12-java8
        flinkVersion: '1.13'
        jarUri: file:///flink/usrlib/flink-python-loader.jar
        entryClass: com.getindata.streaming.FlinkPythonLoader
        kind: JAR
        additionalDependencies:
          - file:///flink/python_src/flink_app.py
        mainArgs: --python_path=/flink/python_src/flink_app.py
      flinkConfiguration:
        execution.checkpointing.externalized-checkpoint-retention: RETAIN_ON_CANCELLATION
        execution.checkpointing.interval: 10s
      logging:
        log4jLoggers:
          '': INFO
        loggingProfile: default
      parallelism: 1
      resources:
        jobmanager:
          cpu: 1
          memory: 1G
        taskmanager:
          cpu: 1
          memory: 1G
  upgradeStrategy:
    kind: STATEFUL